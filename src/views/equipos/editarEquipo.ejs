<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/AdminLTEHead.ejs') %>
    <link rel="stylesheet" href="/css/formulario.css" />
    <title>REDNOR - EDITAR</title>
  </head>
  <body class="hold-transition sidebar-mini">
    <div class="wrapper">
      <!-- Navbar -->
      <%- include('../partials/navbar.ejs') %>
    
      <!-- Main Sidebar -->
      <%- include('../partials/mainSidebar.ejs') %>
  
      <!-- Control Sidebar -->
       <%- include('../partials/controlSidebar.ejs') %>
      <!-- MAIN -->
      <main class="content-wrapper">
        <!-- CONTENIDO -->
        <section class="main-content">
          <h1>EDITAR EQUIPO</h1>
          <div class="form-container">
            <form action="/equipos/editar/<%= equipo.id %>?_method=PUT" method="post">
              <h4>Datos del equipo</h4>
              <div>
                <label for="marca">Marca</label>
                <select name="marca" id="marca">
                  <option value="" selected disabled hidden>
                    Elegir una opcion
                  </option>
                  <% marcas.forEach(marca => { %>
                  <option value="<%= marca.nombre %>" <%= equipo.marca == marca.nombre ? "selected" : "" %>><%= marca.nombre %></option>
                  <% }) %>
                </select>
                <% if (locals.errors && errors.marca) { %>
                 <p class="feedback-errors"><%= errors.marca.msg %></p>
                <% } %>
              </div>
  
              <div>
                <label for="modelo">Modelo</label>
                <input 
                  type="text" 
                  name="modelo" 
                  id="modelo" 
                    value="<%= locals.old && old.modelo ? old.modelo : equipo.modelo %>"/>
                <% if (locals.errors && errors.modelo) { %>
                 <p class="feedback-errors"><%= errors.modelo.msg %></p>
                <% } %>
              </div>
  
              <div>
                <label for="numero_serie">Numero de Serie</label>
                <input 
                  type="text" 
                  name="numero_serie" 
                  id="numero_serie" 
                  value="<%= locals.old && old.numero_serie ? old.numero_serie : equipo.numero_serie %>"/>
                <% if (locals.errors && errors.numero_serie) { %>
                 <p class="feedback-errors"><%= errors.numero_serie.msg %></p>
                <% } %>
              </div>
  
              <div>
                <label for="id_tipo_equipo">Tipo de Equipo</label>
                <select name="id_tipo_equipo" id="id_tipo_equipo">
                  <option value="" selected disabled hidden>
                    Elegir una opcion
                  </option>
                  <% tipos.forEach(tipo => { %>
                  <option value="<%= tipo.id %>" <%= equipo.id_tipo_equipo == tipo.id ? "selected" : "" %>><%= tipo.nombre %></option>
                  <% }) %>
                </select>
                <% if (locals.errors && errors.id_tipo_equipo) { %>
                 <p class="feedback-errors"><%= errors.id_tipo_equipo.msg %></p>
                <% } %>
              </div>
  
              <br />
              <input type="submit" />
            </form>
          </div>
        </section>
        <!-- FIN CONTENIDO -->
      </main>
      <!-- FIN MAIN -->
    </div>

    <%- include('../partials/AdminLTEScripts.ejs') %>
  </body>
</html>
