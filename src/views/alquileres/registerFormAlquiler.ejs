<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head.ejs') %>
    <link rel="stylesheet" href="/css/registerForm.css" />
    <title>REDNOR - Nuevo alquiler</title>
  </head>
  <body>
    <%- include('../partials/header.ejs') %>
    <!-- MAIN -->
    <main class="main-container">
      <!-- ASIDE -->
      <%- include('../partials/aside.ejs') %>
      <!-- FIN ASIDE -->

      <!-- CONTENIDO -->
      <section class="main-content">
        <h1>REGISTRAR NUEVO ALQUILER</h1>
        <div class="form-register-container">
          <form action="/alquileres/crear" method="post">
            <!-- <h4>Datos personales</h4> -->
            <div>
              <label for="id_cliente">Cliente</label>
              <select name="id_cliente" id="id_cliente">
                <option value="" selected hidden disabled>
                  Elegir una opcion
                </option>
                <% clientes.forEach(cliente => { %>
                <option value="<%= cliente.id %>"><%= cliente.nombre %></option>
                <% }) %>
              </select>
              <% if (locals.errors && errors.id_cliente) { %>
              <p class="feedback-errors"><%= errors.id_cliente.msg %></p>
              <% } %>
            </div>

            <div>
              <label for="id_equipo">Equipo</label>
              <select name="id_equipo" id="id_equipo">
                <option value="" selected hidden disabled>
                  Elegir una opcion
                </option>
                <% equipos.forEach(equipo => { %>
                <option value="<%= equipo.id %>">
                  <%= equipo.marca.nombre%> <%= equipo.numero_serie %>
                </option>
                <% }) %>
              </select>
              <% if (locals.errors && errors.id_equipo) { %>
              <p class="feedback-errors"><%= errors.id_equipo.msg %></p>
              <% } %>
            </div>

            <div>
              <label for="id_firma">Firma</label>
              <select name="id_firma" id="id_firma">
                <option value="" selected hidden disabled>
                  Elegir una opcion
                </option>
                <% firmas.forEach(firma => { %>
                <option value="<%= firma.id %>"><%= firma.nombre %></option>
                <% }) %>
              </select>
              <% if (locals.errors && errors.id_firma) { %>
              <p class="feedback-errors"><%= errors.id_firma.msg %></p>
              <% } %>
            </div>

            <div>
              <label for="fecha_vencimiento">Fecha de Vencimiento</label>
              <input
                type="date"
                name="fecha_vencimiento"
                id="fecha_vencimiento"
              />
              <% if (locals.errors && errors.fecha_vencimiento) { %>
              <p class="feedback-errors"><%= errors.fecha_vencimiento.msg %></p>
              <% } %>
            </div>

            <br />
            <hr />

            <h4>Datos adicionales</h4>
            <div>
              <label for="departamento">Departamento</label>
              <input 
                type="text" 
                name="departamento" 
                id="departamento"
                value="<%= locals.old && old.departamento ? old.departamento : "" %>"
              />
              <% if (locals.errors && errors.departamento) { %>
              <p class="feedback-errors"><%= errors.departamento.msg %></p>
              <% } %>
            </div>

            <!-- <div>
              <label for="direccion">Direccion</label>
              <input type="text" name="direccion" id="direccion" />
            </div> -->
            <br />
            <input type="submit" />
          </form>
        </div>
      </section>
      <!-- FIN CONTENIDO -->
    </main>
    <!-- FIN MAIN -->
  </body>
</html>
